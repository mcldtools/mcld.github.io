<html lang=en>
<head>
	<title>CLD Assessment</title>
	<link rel="icon" type="image/png" href="/logo150.png"/>
	<link rel="apple-touch-icon" href="/logo512.png">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/style.css">
	<script type='text/javascript' src=/functions.js></script>
</head>
<body>
	<script>cookie=setup();</script>
	<h2>Results by Dimension</h2>
	<script>
		const labels=['A','B','C','D','E','F','G','H','I']; // uppercase version of labels
		const lengths=[7,2,5,2,2,2,1,3,3]; // number of sub-elements in each
		function computeScores(labels,lengths) {
			let scores=[0,0,0,0,0,0,0,0,0];
//			console.log('cookies',document.cookie);
			for(i=0;i<labels.length;i++) { // which major dimension
				for(j=1;j<=lengths[i];j++) { // which sub dimension
					const cname=labels[i].toLowerCase()+j;
					let x = +cookie[cname];
					if(isNaN(x)) x=0;
					x--;
					if(x<1) x=0;
					console.log('score',i,j,cname,x);
					scores[i] += x;
				}
				if(isNaN(scores[i])) scores[i]=0;
				scores[i]=Math.floor(scores[i]*100/(lengths[i]*3));
//				console.log('Scores',i,scores[i]);
			}
			return scores;
		}
		spider(scores,labels);
	</script>
</body>
</html>
