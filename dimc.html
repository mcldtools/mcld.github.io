<html lang=en>
<head>
	<title>Dimension C</title>
	<link rel="icon" type="image/png" href="/logo150.png"/>
	<link rel="apple-touch-icon" href="/logo512.png">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/style.css">
	<script type='text/javascript' src=/functions.js></script>
</head>
<body>
	<nav><a href=/ >Home</a> <a href=/results.html >Results</a> <a href=/sega.html >Dim. A</a>
		<a href=/segd.html >Dim. D</a> <a href=/segb.html >Dim. BEFG</a> 
		<a href=/segbefg.html >Dim. BEFG</a>
		<a href=/seghi.html >Dim. HI</a></nav>
	<h2>Dimension C: Exit Strategy Linked to Sustainability</h2>
	<script>
		function putXY(r,i,n){ // convert radius and index in spider to x,y pair
			a=(2*Math.PI*i)/n;
			x=Math.floor(120+r*Math.sin(a));
			y=Math.floor(120-r*Math.cos(a));
			document.write(' '+Math.floor(x)+','+Math.floor(y));
		}
		const labels=['C1','C2','C3','C4','C5']; // uppercase version of labels
		function computeScores(labels) {
			let scores=[0,0,0,0,0];
			for(i=0;i<labels.length;i++) { // which major dimension
				const cname=labels[i].toLowerCase();
				let x = + getCookie(cname);
				x--;
				if(x<1) x=0;
				console.log('score',i,cname,x);
				scores[i]=Math.floor(x*100/3);
			}
			return scores;
		}
		/*	Draw a spider diagram based on the results
			For now, we use fake data */
		const data=computeScores(labels);
		n=data.length;
		document.write('<svg viewBox="0 0 240 240" xmlns="http://www.w3.org/2000/svg">');
		document.write('<style> .n {font: 10px sans-serif; fill: black;}</style>'); 
			for(r=10;r<110;r=r+10) { // first layout the grid
				y=120-r;
				document.write('<text class="n" x="121" y="'+y+'">'+r+'</text>');
				document.write('<polygon points="');
				for(i=0;i<n;i++) { putXY(r,i,n);}
				document.write('" fill="none" stroke="blue" /></polygon>');
			}
		// Next draw the data points
		document.write('<polygon points="');
		for(i=0;i<n;i++) { putXY(data[i],i,n);}
		document.write('" fill="green" fill-opacity="25%" stroke="darkgreen"></polygon>');
		// Next put the labels in the appropriate points
		for(i=0;i<n;i++){
			a=(2*Math.PI*i)/n;
			x=Math.floor(115+105*Math.sin(a));
			y=Math.floor(125-105*Math.cos(a));
			document.write('<text class="n" x="'+x+'" y="'+y+'">'+labels[i]+'</text>');
		}
		document.write("</svg>\n");
	</script>
	<center>
	<table style="font-size:12px;">
		<tr><th>Score</th><th>Dimension</th></tr>
	<tr><td id=c0></td><td>C1 Communities are central to developing exit strategies of the CLD program.</td></tr>
	<tr><td id=c1></td><td>C2 Planning for responsible exit is woven throughout the CLD program [all the life-cycle phases]</td></tr>
	<tr><td id=c2></td><td>C3 Exit strategies of the CLD program describe the mechanisms left in place to ensure sustainability and/or resilience</td></tr>
	<tr><td id=c3></td><td>C4 The CLD program impact is measured post-closure with local participation</td></tr>
	<tr><td id=c4></td><td>C5 Community members (including the most marginalized) are still benefiting from CLD program</td></tr>
</table>
</center>
<script>
	for(i=0;i<5;i++) document.getElementById('c'+i).innerHTML=data[i];
</script>
</body>
</html>
